{% extends 'base.html' %}
{% load static %}

{% block main %}

<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">

<div class="dashboard-container">

    <h2 class="section-title">Vendas</h2>

    <div class="charts-grid">
        <div class="chart-section">
            <h3>Vendas por Mês</h3>
            <canvas id="salesPerMonth"></canvas>
        </div>

        <div class="chart-section">
            <h3>Produtos Mais Vendidos</h3>
            <canvas id="topProducts"></canvas>
        </div>

        <div class="chart-section">
            <h3>Categorias Mais Movimentadas</h3>
            <canvas id="topCategories"></canvas>
        </div>

        <div class="chart-section">
            <h3>Lucro × Custo</h3>
            <canvas id="profitVsCost"></canvas>
        </div>

        <div class="chart-section">
            <h3>Top 5 Menor Estoque</h3>
            <canvas id="lowestStock"></canvas>
        </div>
    </div>

</div>

<script>
    const MONTHS = {{ meses|safe }};
    const SALES_MONTH = {{ vendas_por_mes|safe }};

    const TOP_PRODUCTS_LABELS = {{ produtos_mais_vendidos_labels|safe }};
    const TOP_PRODUCTS_DATA = {{ produtos_mais_vendidos_data|safe }};

    const CATEGORY_LABELS = {{ categorias_labels|safe }};
    const CATEGORY_DATA = {{ categorias_data|safe }};

    const MONTHLY_COST = {{ custo_mensal|safe }};
    const MONTHLY_PROFIT = {{ lucro_mensal|safe }};

    const LOW_STOCK_LABELS = {{ menor_estoque_labels|safe }};
    const LOW_STOCK_DATA = {{ menor_estoque_data|safe }};
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/dashboard.js' %}"></script>

{% endblock %}
