{% extends 'base.html' %}
{% block main %}

<header class="page-header">
    <h1>Produtos</h1>
    <a class="btn-primary" href="{% url 'createProduct' %}">Adicionar Produto</a>
</header>

{% include 'productFilter.html' %}

{% if product_list %}
<div class="products-container">
    <div class="products-grid-large">

        {% for product in page_obj %}
        
        <div class="product-card-large">

            <a href="{% url 'detailProduct' product.id %}" class="product-info-link">
                
                {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% endif %}

                <div class="product-info-large">
                    <h3>{{ product.name }}</h3>
                    <p class="description">{{ product.description }}</p>
                    <p class="price">R$ {{ product.salePrice }}</p>

                    <div class="product-stats">
                        <p class="quantity">Quantidade restante: {{ product.quantity }}</p>
                    </div>
                </div>

            </a>
            <div class="product-actions-footer">
                <a href="{% url 'updateProduct' product.id %}" class="btn-edit">Editar</a>
                <a href="{% url 'deleteProduct' product.id %}" class="btn-delete"
                   onclick="return confirm('Tem certeza que deseja excluir este produto?');">
                    Excluir
                </a>
            </div>

        </div>

        {% endfor %}

    </div>
</div>

{% else %}
<p>Nenhum produto cadastrado.</p>
{% endif %}

{% include 'pagination.html' %}

{% endblock %}